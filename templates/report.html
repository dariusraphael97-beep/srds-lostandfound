{% extends "base.html" %}
{% block title %}Report Found Item â€” SRDS Lost & Found{% endblock %}

{% block content %}
<header class="page-header" aria-labelledby="report-heading">
  <div class="container">
    <div class="hero-eyebrow" style="display:inline-flex; margin-bottom:16px;">ðŸ“‹ Submit a Report</div>
    <h1 id="report-heading">Report a Found Item</h1>
    <p>Help a classmate reunite with their belongings. Takes less than 2 minutes.</p>
  </div>
</header>

<section class="section">
  <div class="container">
    <form class="form-card reveal" method="POST" enctype="multipart/form-data" data-validate aria-label="Found item report form">

      <div style="margin-bottom:36px;">
        <h2 style="font-size:1.6rem; margin-bottom:8px;">Item Details</h2>
        <p style="font-size:0.88rem; color:var(--white-40);">Fields marked <span style="color:var(--error);">*</span> are required.</p>
      </div>

      <div class="form-group">
        <label for="name">Item Name <span class="required">*</span></label>
        <input type="text" id="name" name="name" placeholder="e.g. Blue Nike Backpack" required maxlength="100" />
      </div>

      <div class="form-group">
        <label for="category">Category <span class="required">*</span></label>
        <select id="category" name="category" required>
          <option value="" disabled selected>Select a categoryâ€¦</option>
          <option>Clothing &amp; Apparel</option>
          <option>Electronics</option>
          <option>Books &amp; Stationery</option>
          <option>Bags &amp; Backpacks</option>
          <option>Sports Equipment</option>
          <option>Jewelry &amp; Accessories</option>
          <option>Keys</option>
          <option>Water Bottles</option>
          <option>Other</option>
        </select>
      </div>

      <div class="form-group">
        <label for="description">Description <span class="required">*</span></label>
        <textarea id="description" name="description" placeholder="Describe the item: color, brand, distinguishing features, conditionâ€¦" required minlength="10"></textarea>
      </div>

      <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px;" class="two-col-form">
        <div class="form-group">
          <label for="location">Where Was It Found? <span class="required">*</span></label>
          <input type="text" id="location" name="location" placeholder="e.g. Library, Gym, Cafeteriaâ€¦" required />
        </div>
        <div class="form-group">
          <label for="date_found">Date Found <span class="required">*</span></label>
          <input type="date" id="date_found" name="date_found" required />
        </div>
      </div>

      <div class="form-group">
        <label>Photo <span style="color:var(--white-40); font-weight:400; text-transform:none;">(strongly recommended)</span></label>
        <label class="file-upload-label" for="photo" id="fileLabel">
          <span class="file-upload-icon" aria-hidden="true">ðŸ“·</span>
          <strong id="fileName">Click to upload a photo</strong>
          <span style="font-size:0.8rem; color:var(--white-40);">PNG, JPG, GIF or WebP</span>
        </label>
        <input type="file" id="photo" name="photo" accept=".png,.jpg,.jpeg,.gif,.webp" />
      </div>

      <div style="display:flex; gap:12px; flex-wrap:wrap; border-top:1px solid var(--white-10); padding-top:28px; margin-top:8px;">
        <button type="submit" class="btn btn-primary">âœ“ Submit Report</button>
        <a href="{{ url_for('index') }}" class="btn btn-glass">Cancel</a>
      </div>

    </form>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script>
  document.getElementById('photo').addEventListener('change', function() {
    document.getElementById('fileName').textContent = this.files[0] ? this.files[0].name : 'Click to upload a photo';
  });
  document.getElementById('date_found').max = new Date().toISOString().split('T')[0];

  // Responsive two-col grid
  const twoCol = document.querySelector('.two-col-form');
  if (window.innerWidth < 540 && twoCol) twoCol.style.gridTemplateColumns = '1fr';
</script>
{% endblock %}
